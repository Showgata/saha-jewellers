<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>

<!-- Mirrored from psd2allconversion.com/templates/templatemonster/html/pink-desh/dark/empty_page.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 28 Jun 2018 06:31:59 GMT -->
<head>
<title>saha jwellers</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<link href="/css/bootstrap.min.css" rel="stylesheet">
<link href="/fontawesome/css/font-awesome.min.css" rel="stylesheet">
<link href="/css/metisMenu.css" rel="stylesheet">
<link href="/css/morris-0.4.3.min.css" rel="stylesheet">
<link href="/css/style.css" rel="stylesheet">
<link rel="stylesheet"
	href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<!-- <link href="/css/dataTables.bootstrap.css" rel="stylesheet">
<link href="/css/dataTables.colVis.css" rel="stylesheet"> -->
<link
	href="http://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css"
	rel="stylesheet">
<link
	href="https://cdnjs.cloudflare.com/ajax/libs/air-datepicker/2.2.3/css/datepicker.css"
	rel="stylesheet" />
<!-- 	<script src="/js/jquery.min.js"></script> -->
<script src="/js/modernizr.js"></script>
<!-- <script src="/js/dataTables.bootstrap.js"></script>
<script src="/js/dataTables.colVis.js"></script> -->
</head>
<body class="fixed-left">

	<div id="wrapper">

		<!--top bar-->
		<div class="topbar">
			<div class="topbar-left">
				<div class="text-center">
					<a href="index.html" class="logo"><img src="/images/sahas.png"
						class="image-responsive" width="220px" style="margin-top: 10px"
						alt=""></a>
				</div>
			</div>
			<div class="pull-left menu-toggle">
				<i class="fa fa-bars"></i>
			</div>

			<ul class="nav navbar-nav  top-right-nav hidden-xs">
				<li><span id="para2"></span> <span id="para3"></span> <span
					id="para1"></span></li>

				<li class="dropdown profile-link hidden-xs">
					<div class="clearfix">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown"> <img
							src="/images/user.png" alt="" class="pull-left"> <span>up
								bar <br> <em>Admin</em>
						</span>
						</a>
						<ul class="dropdown-menu">
							<li><a href="#">Account</a></li>
							<li><a href="#">Settings</a></li>
							<li><a href="#">Logout</a></li>
						</ul>
					</div>

				</li>

			</ul>
		</div>
		<!--end top bar-->
		<div th:replace="common/common-header :: common-menu"></div>
		<!--left menu start-->
		<!--left menu end-->
		<div class="content-page  equal-height">
			<div class="content">
				<div class="container">
					<table class="table table-striped" id="voucher">
								<thead>
									<tr>
										<th>ID</th>
										<th>Name</th>
										<th>Serial no</th>
										<th>Cust sl</th>

										<th>Receive Date</th>
										<th>Bori</th>
										<th>Ana</th>
										<th>Ratti</th>

										<th>Gram</th>
										<th>Int. Rate</th>
										<th>Loan Amt.</th>
										<th>Update</th>
										<th>Delete</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td>John</td>
										<td>Doe</td>
										<td>john@example.com</td>
										<td>John</td>
										<td>Doe</td>
										<td>john@example.com</td>
										<td>John</td>
										<td>Doe</td>
										<td>john@example.com</td>
										<td>John</td>
										<td>Doe</td>
										<td>john@example.com</td>
										<td></td>
									</tr>
									<tr>
										<td>John</td>
										<td>Doe</td>
										<td>john@example.com</td>
										<td>John</td>
										<td>Doe</td>
										<td>john@example.com</td>
										<td>John</td>
										<td>Doe</td>
										<td>john@example.com</td>
										<td>John</td>
										<td>Doe</td>
										<td>john@example.com</td>
										<td></td>
									</tr>
									<tr>
										<td>John</td>
										<td>Doe</td>
										<td>john@example.com</td>
										<td>John</td>
										<td>Doe</td>
										<td>john@example.com</td>
										<td>John</td>
										<td>Doe</td>
										<td>john@example.com</td>
										<td>John</td>
										<td>Doe</td>
										<td>john@example.com</td>
										<td></td>
									</tr>
								</tbody>
							</table>
				
				</div>
				<!--content-->
			</div>
			<!--content page-->
		</div>
		<!--end wrapper-->
	</div>


	<div class="footer col-sm-offset-4">
		<span>Copyright &copy; 2016. Saha Jwellers.</span>
	</div>
	<!-- Plugins  -->
	<script src="/js/jquery.min.js"></script>
	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
	<script src="/js/bootstrap.min.js"></script>
	<script src="/js/jquery.slimscroll.js"></script>
	<script src="/js/metisMenu.js"></script>
	<script src="/js/core.js"></script>
	<script src="/js/mediaquery.js"></script>
	<script src="/js/equalize.js"></script>
	<script src="/js/app.js"></script>
	<script
		src="http://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/air-datepicker/2.2.3/js/datepicker.js"></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/air-datepicker/2.2.3/js/i18n/datepicker.en.js"></script>

	<script>
	
	 function buildAjax(url, methodType){
     	return $.ajax({
        	    url : url,
        	    method : methodType,
        	    contentType: "application/json"
        	 })
     }
	 
	 function fillVoucherTransactions(){
		 var URL = "http://localhost:8080//modgage-app/api/transaction/latestTransactions";
		 buildAjax(URL,'GET').then(function(respJson){
			
			 var dataSet = [];
			 var transaction_length = respJson.length;
			 var i_Value = 0;
			 jQuery.each(respJson, function(i, val) {
				 
				 URL = "http://localhost:8080//modgage-app/api/voucher/transaction/"+val.id;
				 
				 
				  buildAjax(URL,'GET').then(function(responseJson){
					        dataSet.push([(responseJson.id==null?"0":responseJson.id),
					        	responseJson.customer.customerName,
		      				 (responseJson.transaction.trasnsactionSerial==null?"":responseJson.transaction.trasnsactionSerial),
		      				 (responseJson.customer.customerId==null?"":responseJson.customer.customerId),
		      				responseJson.date,
		      				(responseJson.mortgage.bori==null?"0.0":responseJson.mortgage.bori),
		      				(responseJson.mortgage.ana==null?"0.0":responseJson.mortgage.ana),
		      				(responseJson.mortgage.ratti==null?"0.0":responseJson.mortgage.ratti),
		      				(responseJson.mortgage.gram==null?"0.0":responseJson.mortgage.gram),
		      				(responseJson.mortgage.interestRate==null?"0.0":responseJson.mortgage.interestRate),
		      				(responseJson.mortgage.loanAmount==null?"0.0":responseJson.mortgage.loanAmount),
		      				"<input class='form-controlcol-sm-2 upd'  type='button' name='update' value='update' id='update' />",
		     				"<input class='form-controlcol-sm-2 del' type='button' name='delete' value='delete' delid='"+val.id+"' id='delete' />"]);
					        i_Value++;
					      //setting datatable
					      if(i_Value == transaction_length){
							 $('#voucher').DataTable({
					     		 data:           dataSet,
					             deferRender:    true,
					             scrollY:        200,
					             scrollCollapse: true,
					             scroller:       true,
					             "order": []
					     	});  
					      }
					        
				  }, function(reason){
		           	 console.log("error in processing your request", reason);
		        	});
				 
				
			 });
		 
		 
			 
		 }, function(reason){
           	 console.log("error in processing your request", reason);
        	}); 
	 }
	 
	 $(document).ready( function () {    	
		 fillVoucherTransactions();
	 });
	</script>


</body>

<!-- Mirrored from psd2allconversion.com/templates/templatemonster/html/pink-desh/dark/empty_page.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 28 Jun 2018 06:31:59 GMT -->
</html>
